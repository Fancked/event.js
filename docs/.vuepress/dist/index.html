<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>event.js</title>
    <meta name="generator" content="VuePress 1.5.4">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ccac5a78.css" as="style"><link rel="preload" href="/assets/js/app.5e0c4b6a.js" as="script"><link rel="preload" href="/assets/js/2.5969cfa1.js" as="script"><link rel="preload" href="/assets/js/5.483e31a4.js" as="script"><link rel="prefetch" href="/assets/js/3.9f536595.js"><link rel="prefetch" href="/assets/js/4.5ed19beb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ccac5a78.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" aria-current="page" class="home-link router-link-exact-active router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Home
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Home
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>event.js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/#为什么需要-event-js" class="sidebar-link">为什么需要 event.js ?</a></li><li class="sidebar-sub-header"><a href="/#如何使用" class="sidebar-link">如何使用</a></li><li class="sidebar-sub-header"><a href="/#注意" class="sidebar-link">注意</a></li></ul></li><li><a href="/#事件对象" class="sidebar-link">事件对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/#结构" class="sidebar-link">结构</a></li><li class="sidebar-sub-header"><a href="/#属性" class="sidebar-link">属性</a></li></ul></li><li><a href="/#window-对象" class="sidebar-link">window 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/#window-getallevents" class="sidebar-link">window.getAllEvents()</a></li><li class="sidebar-sub-header"><a href="/#window-geteventsbytarget-target-simplify-origin" class="sidebar-link">window.getEventsByTarget(target, simplify, origin)</a></li><li class="sidebar-sub-header"><a href="/#window-geteventsbytype-type-simplify-origin" class="sidebar-link">window.getEventsByType(type, simplify, origin)</a></li><li class="sidebar-sub-header"><a href="/#window-geteventsbyevent-event-simplify-origin" class="sidebar-link">window.getEventsByEvent(event, simplify, origin)</a></li><li class="sidebar-sub-header"><a href="/#window-getevents-obj-simplify-origin" class="sidebar-link">window.getEvents(obj, simplify, origin)</a></li></ul></li><li><a href="/#element-对象" class="sidebar-link">element 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/#element-getallevents" class="sidebar-link">element.getAllEvents()</a></li><li class="sidebar-sub-header"><a href="/#element-geteventsbytype-type-simplify-origin" class="sidebar-link">element.getEventsByType(type, simplify, origin)</a></li><li class="sidebar-sub-header"><a href="/#element-geteventsbyevent-event-simplify-origin" class="sidebar-link">element.getEventsByEvent(event, simplify, origin)</a></li><li class="sidebar-sub-header"><a href="/#element-getevents-obj-simplify-origin" class="sidebar-link">element.getEvents(obj, simplify, origin)</a></li></ul></li><li><a href="/#补充" class="sidebar-link">补充</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/#为什么引入参数-simplify" class="sidebar-link">为什么引入参数 simplify？</a></li><li class="sidebar-sub-header"><a href="/#为什么没有-geteventbyusecapture" class="sidebar-link">为什么没有 getEventByUseCapture？</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="event-js"><a href="#event-js" class="header-anchor">#</a> event.js</h1> <p>基于原生 js 开发，提供关于事件的一些 api</p> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <h3 id="为什么需要-event-js"><a href="#为什么需要-event-js" class="header-anchor">#</a> 为什么需要 event.js ?</h3> <ol><li><p>原生 js 并未提供获取页面事件的相应功能</p></li> <li><p>原生 js 不支持解绑匿名函数的事件监听</p></li></ol> <h3 id="如何使用"><a href="#如何使用" class="header-anchor">#</a> 如何使用</h3> <p>只需要在绑定事件前引入 event.js 即可</p> <h3 id="注意"><a href="#注意" class="header-anchor">#</a> 注意</h3> <p>必须在绑定事件前引入 event.js，在此之前的事件将被忽略。</p> <p>目前只支持 支持 addEventListener 的浏览器。未来将有可能扩展相应的功能。</p> <h2 id="事件对象"><a href="#事件对象" class="header-anchor">#</a> 事件对象</h2> <p>绑定事件后，会自动生成相应的事件对象。在每个事件对象中会存储本次事件一部分属性。</p> <h3 id="结构"><a href="#结构" class="header-anchor">#</a> 结构</h3> <p><strong>{target,type,event,useCapture}</strong></p> <h3 id="属性"><a href="#属性" class="header-anchor">#</a> 属性</h3> <h4 id="target"><a href="#target" class="header-anchor">#</a> target</h4> <p>HTML DOM 元素对象，本次事件绑定的对象</p> <h4 id="type"><a href="#type" class="header-anchor">#</a> type</h4> <p>字符串，本次事件触发条件。</p> <h4 id="event"><a href="#event" class="header-anchor">#</a> event</h4> <p>函数，本次事件触发时执行的函数。</p> <h4 id="usecapture"><a href="#usecapture" class="header-anchor">#</a> useCapture</h4> <p>布尔值，指定事件是否在捕获或冒泡阶段执行。</p> <p>可能值:</p> <ul><li>true - 事件句柄在捕获阶段执行</li> <li>false - 默认值，事件句柄在冒泡阶段执行</li></ul> <h2 id="window-对象"><a href="#window-对象" class="header-anchor">#</a> window 对象</h2> <h3 id="window-getallevents"><a href="#window-getallevents" class="header-anchor">#</a> window.getAllEvents()</h3> <p><strong>功能：</strong> 获取当前页面所有事件</p> <p><strong>参数：</strong> 无</p> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前页面所有事件对象的集合</td></tr></tbody></table> <h3 id="window-geteventsbytarget-target-simplify-origin"><a href="#window-geteventsbytarget-target-simplify-origin" class="header-anchor">#</a> window.getEventsByTarget(target, simplify, origin)</h3> <p><strong>功能：</strong> 获取所有绑定对象为选定值的事件</p> <p><strong>参数：</strong></p> <table><thead><tr><th>参数</th> <th style="text-align:left;">可选值</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td>target</td> <td style="text-align:left;">CSS 选择器</td> <td style="text-align:left;">String</td> <td style="text-align:left;">指定一个或多个匹配 CSS 选择器的元素。可以通过 id, class, 类型, 属性, 属性值等作为选择器来获取元素。</td></tr> <tr><td></td> <td style="text-align:left;">NodeList 对象</td> <td style="text-align:left;">Object</td> <td style="text-align:left;">节点的集合。</td></tr> <tr><td></td> <td style="text-align:left;">HTML DOM Element 对象</td> <td style="text-align:left;">Object</td> <td style="text-align:left;">HTML 元素。</td></tr> <tr><td>simplify</td> <td style="text-align:left;">true（默认）</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值进行简化。对于 target 为 CSS 选择器或 NodeList 对象时，将对元素各自的事件对象的集合进行合并，返回元素公共的事件对象的集合。</td></tr> <tr><td></td> <td style="text-align:left;">false</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值不进行简化。对于 target 为 CSS 选择器或 NodeList 对象时，将返回元素各自的事件对象的集合。</td></tr> <tr><td>origin</td> <td style="text-align:left;"></td> <td style="text-align:left;">Array</td> <td style="text-align:left;">设置本次操作基于的事件对象列表，默认值为当前页面的所有事件对象的集合。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前页面所有绑定对象为选定值的事件对象的集合。对于 target 为多个 element 元素时，将返回这些元素的公共的事件对象的集合。</td></tr></tbody></table> <h3 id="window-geteventsbytype-type-simplify-origin"><a href="#window-geteventsbytype-type-simplify-origin" class="header-anchor">#</a> window.getEventsByType(type, simplify, origin)</h3> <p>**功能：**获取当前页面所有绑定事件类型为选定值的事件</p> <p><strong>参数：</strong></p> <table><thead><tr><th>参数</th> <th style="text-align:left;">可选值</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td>type</td> <td style="text-align:left;"></td> <td style="text-align:left;">String</td> <td style="text-align:left;">指定绑定事件的类型。</td></tr> <tr><td>simplify</td> <td style="text-align:left;">true（默认）</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值进行简化。对于 target 为 CSS 选择器或 NodeList 对象时，将对元素各自的事件对象的集合进行合并，返回元素公共的事件对象的集合。</td></tr> <tr><td></td> <td style="text-align:left;">false</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值不进行简化。对于 target 为 CSS 选择器或 NodeList 对象时，将返回元素各自的事件对象的集合。</td></tr> <tr><td>origin</td> <td style="text-align:left;"></td> <td style="text-align:left;">Array</td> <td style="text-align:left;">设置本次操作基于的事件对象列表，默认值为当前页面的所有事件对象的集合。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前页面所有绑定事件类型为选定值的事件对象的集合</td></tr></tbody></table> <h3 id="window-geteventsbyevent-event-simplify-origin"><a href="#window-geteventsbyevent-event-simplify-origin" class="header-anchor">#</a> window.getEventsByEvent(event, simplify, origin)</h3> <p><strong>功能：</strong> 获取当前页面所有绑定事件函数为选定值的事件</p> <p><strong>参数：</strong></p> <table><thead><tr><th>参数</th> <th style="text-align:left;">可选值</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td>event</td> <td style="text-align:left;"></td> <td style="text-align:left;">Function</td> <td style="text-align:left;">指定绑定的事件。</td></tr> <tr><td>simplify</td> <td style="text-align:left;">true（默认）</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值进行简化。对于 target 为 CSS 选择器或 NodeList 对象时，将对元素各自的事件对象的集合进行合并，返回元素公共的事件对象的集合。</td></tr> <tr><td></td> <td style="text-align:left;">false</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值不进行简化。对于 target 为 CSS 选择器或 NodeList 对象时，将返回元素各自的事件对象的集合。</td></tr> <tr><td>origin</td> <td style="text-align:left;"></td> <td style="text-align:left;">Array</td> <td style="text-align:left;">设置本次操作基于的事件对象列表，默认值为当前页面的所有事件对象的集合。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前页面所有绑定事件为选定值的事件对象的集合</td></tr></tbody></table> <h3 id="window-getevents-obj-simplify-origin"><a href="#window-getevents-obj-simplify-origin" class="header-anchor">#</a> window.getEvents(obj, simplify, origin)</h3> <p><strong>功能：</strong> 获取当前页面满足所设置条件的事件对象的集合。</p> <p><strong>参数：</strong></p> <table><thead><tr><th>参数</th> <th style="text-align:left;">可选值</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td>obj</td> <td style="text-align:left;">{target,type,event,useCapture}</td> <td style="text-align:left;">Object</td> <td style="text-align:left;">指定符合的事件对象的标准。</td></tr> <tr><td>simplify</td> <td style="text-align:left;">true（默认）</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值进行简化。对于 target 为 CSS 选择器或 NodeList 对象时，将对元素各自的事件对象的集合进行合并，返回元素公共的事件对象的集合。</td></tr> <tr><td></td> <td style="text-align:left;">false</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值不进行简化。对于 target 为 CSS 选择器或 NodeList 对象时，将返回元素各自的事件对象的集合。</td></tr> <tr><td>origin</td> <td style="text-align:left;"></td> <td style="text-align:left;">Array</td> <td style="text-align:left;">设置本次操作基于的事件对象列表，默认值为当前页面的所有事件对象的集合。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前页面所有绑定事件为选定值的事件对象的集合</td></tr></tbody></table> <h2 id="element-对象"><a href="#element-对象" class="header-anchor">#</a> element 对象</h2> <h3 id="element-getallevents"><a href="#element-getallevents" class="header-anchor">#</a> element.getAllEvents()</h3> <p><strong>功能：</strong> 获取当前元素上所绑的所有事件</p> <p><strong>参数：</strong> 无</p> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前元素上所绑的所有事件对象的集合</td></tr></tbody></table> <h3 id="element-geteventsbytype-type-simplify-origin"><a href="#element-geteventsbytype-type-simplify-origin" class="header-anchor">#</a> element.getEventsByType(type, simplify, origin)</h3> <p><strong>功能：</strong> 获取当前元素上所有绑定事件类型为选定值的事件</p> <p><strong>参数：</strong></p> <table><thead><tr><th>参数</th> <th style="text-align:left;">可选值</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td>type</td> <td style="text-align:left;"></td> <td style="text-align:left;">String</td> <td style="text-align:left;">指定绑定事件的类型。</td></tr> <tr><td>simplify</td> <td style="text-align:left;">true（默认）</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值进行简化。</td></tr> <tr><td></td> <td style="text-align:left;">false</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值不进行简化。</td></tr> <tr><td>origin</td> <td style="text-align:left;"></td> <td style="text-align:left;">Array</td> <td style="text-align:left;">设置本次操作基于的事件对象列表，默认值为当前元素上的所有事件对象的集合。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前元素上所有绑定事件类型为选定值的事件对象的集合</td></tr></tbody></table> <h3 id="element-geteventsbyevent-event-simplify-origin"><a href="#element-geteventsbyevent-event-simplify-origin" class="header-anchor">#</a> element.getEventsByEvent(event, simplify, origin)</h3> <p><strong>功能：</strong> 获取当前元素上所有绑定事件函数为选定值的事件</p> <p><strong>参数：</strong></p> <table><thead><tr><th>参数</th> <th style="text-align:left;">可选值</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td>event</td> <td style="text-align:left;"></td> <td style="text-align:left;">Function</td> <td style="text-align:left;">指定绑定的事件。</td></tr> <tr><td>simplify</td> <td style="text-align:left;">true（默认）</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值进行简化。</td></tr> <tr><td></td> <td style="text-align:left;">false</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值不进行简化。</td></tr> <tr><td>origin</td> <td style="text-align:left;"></td> <td style="text-align:left;">Array</td> <td style="text-align:left;">设置本次操作基于的事件对象列表，默认值为当前元素上的所有事件对象的集合。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前元素上所有绑定事件为选定值的事件对象的集合</td></tr></tbody></table> <h3 id="element-getevents-obj-simplify-origin"><a href="#element-getevents-obj-simplify-origin" class="header-anchor">#</a> element.getEvents(obj, simplify, origin)</h3> <p><strong>功能：</strong> 获取当前页面满足所设置条件的事件对象的集合。</p> <p><strong>参数：</strong></p> <table><thead><tr><th>参数</th> <th style="text-align:left;">可选值</th> <th style="text-align:left;">类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td>obj</td> <td style="text-align:left;">{type,event,useCapture}</td> <td style="text-align:left;">Object</td> <td style="text-align:left;">指定符合的事件对象的标准。</td></tr> <tr><td>simplify</td> <td style="text-align:left;">true（默认）</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值进行简化。</td></tr> <tr><td></td> <td style="text-align:left;">false</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">对返回值不进行简化。</td></tr> <tr><td>origin</td> <td style="text-align:left;"></td> <td style="text-align:left;">Array</td> <td style="text-align:left;">设置本次操作基于的事件对象列表，默认值为当前元素上的所有事件对象的集合。</td></tr></tbody></table> <p><strong>返回值：</strong></p> <table><thead><tr><th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>数组</td> <td>包含当前元素上所有绑定事件为选定值的事件对象的集合</td></tr></tbody></table> <h2 id="补充"><a href="#补充" class="header-anchor">#</a> 补充</h2> <h3 id="为什么引入参数-simplify"><a href="#为什么引入参数-simplify" class="header-anchor">#</a> 为什么引入参数 simplify？</h3> <p>主要针对 window.getEventByTarget 方法中，对于参数 target，给予太多的可能性。对于某一类的 element 元素集合，它们对于同一个事件来说，都有各自的事件对象。所以在 target 中，如果 element 元素集合中元素过多，对于 window.getEventByTarget 的返回值也会复杂。引入参数 simplify，当其处于工作时，对于同一事件的不同事件对象，将会采取合并。</p> <p>当然，不仅 window.getEventByTarget 方法，所有引入参数 simplify 的方法，在合并的过程中，都将删除其返回值中事件对象的对应属性。这是我选择的简化方式，而被删除的部分则是在调用方法时所传的参数，并不会消失。</p> <h3 id="为什么没有-geteventbyusecapture"><a href="#为什么没有-geteventbyusecapture" class="header-anchor">#</a> 为什么没有 getEventByUseCapture？</h3> <p>这个方法并不常用，因为几乎没有人会根据这个事件是在捕获还是冒泡阶段进行获取。但是如果你存在这方面需求，可以通过 getEvents 中传入相应的值进行操作。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5e0c4b6a.js" defer></script><script src="/assets/js/2.5969cfa1.js" defer></script><script src="/assets/js/5.483e31a4.js" defer></script>
  </body>
</html>
